<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/02/17/375235.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:42 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>LOCALE_SABBREVLANGNAME is so <em>not</em> an ISO-639 code</title></head><body>
<h1>LOCALE_SABBREVLANGNAME is so <em>not</em> an ISO-639 code</h1>
<p><em>by Michael S. Kaplan, published on 2005/02/17 04:55 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/02/17/375235.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p>Sometimes it does not matter how often you say something; people will simply not hear what you are saying, process it, or learn a darn thing from it.</p> <p>One such time is <strong>when they are dead</strong>. Clearly if someone has&nbsp;passed on, they are not going to be of much use when it comes to learning new things. The appearance schedule of most people slows down after they die. Though I guess if you read the tabloids you might find Elvis has a busy schedule these days....</p> <p>Another such time is <strong>when they are asleep</strong>. It is rude to shake someone and then ask them if they are awake, for obvious reasons. And there are some times that may even say more when you think they are not awake enough to hear...</p> <p>A third such time, and the main subject of this post, is <strong>when you explain that the LOCALE_SABBREVLANGNAME used by <a title="GetLocaleInfo" href="http://msdn.microsoft.com/library/en-us/intl/nls_34rz.asp" target="_blank">GetLocaleInfo</a> is not intended to be an ISO standard</strong>.</p> <p>It is amazing how often people have trouble with such a simple idea. </p> <p>You might think the fact that so many codes do not match would be a telling factor here. But these people just assume that is due to a bug and that Microsoft just got the code wrong.</p> <p>You might also assume that the <a href="http://msdn.microsoft.com/library/en-us/intl/nls_8rse.asp">Locale Information</a> topic in MSDN and the Platform SDK might also be a clue (emphasis in RED is mine):</p> <blockquote dir="ltr" style="MARGIN-RIGHT: 0px"> <p><font size="2">LOCALE_SABBREVLANGNAME</font></p> <blockquote dir="ltr" style="MARGIN-RIGHT: 0px"> <p><font size="2">Abbreviated name of the language. In <strong><font color="#ff0000">most</font></strong> cases it is created by taking the two-letter language abbreviation from the ISO Standard 639 <strong><font color="#ff0000">and adding a third letter</font></strong>, as appropriate, <font color="#ff0000"><strong>to indicate the sublanguage</strong></font>. </font></p></blockquote></blockquote> <p>but again that does not these convince people (since they never read the documentation anyway).</p> <p>Or you perhaps may think that since the LOCALE_SABBREVLANGNAME have been around for at least five years before the three-letter ISO 639 codes&nbsp;described in <a href="http://www.loc.gov/standards/iso639-2/englangn.html">ISO 639-2</a>&nbsp;were published that it is obvious that they would not be the same. Microsoft is not psychic, after all! But&nbsp;most people have no sense of history.</p> <p>And (probably frustrated at this point and getting&nbsp;a glimpse of how sometimes our entire day feels!) you may note that "sublanguage" in LCID terms is really talking about a <a title="SUBLANGID" href="http://msdn.microsoft.com/library/en-us/intl/nls_2iec.asp" target="_blank">SUBLANGID</a> which is actually the "regional" part of the LANGID. And if there is one thing that ISO-639 codes do not handle that the LOCALE_SABBREVLANGNAME does, it is regional differences. But while you are frantically drawing out how ESP, ESM, ESN, ESG, ESC, ESA, ESD, ESV, ESO, ESR, ESS, ESF, ESL, ESY, ESZ, ESB, ESE, ESH, ESI, and ESU are all ways of looking at different locales with a <a title="PRIMARYLANGID" href="http://msdn.microsoft.com/library/en-us/intl/nls_9c84.asp" target="_blank">PRIMARYLANGID</a> of LANG_SPANISH, most of these people just start nodding off.</p> <p>But if they are still awake at this point, they may be feeling a little foolish for not recognizing this apparently fundamental truth about LOCALE_SABBREVLANGNAME. So&nbsp;they start trying to pick holes. They realize that it was kind of our fault (not theirs) since it was really the name that threw them off -- this tag is another way of looking at a LANGID, not at just a language.</p> <p>"Nolo contendere," I have to say<font size="1"><sup>1</sup></font>.</p> <p>And then, realizing that they might be on a roll here, they yank out that Platform SDK page again:</p> <blockquote dir="ltr" style="MARGIN-RIGHT: 0px"> <p><font size="2">Abbreviated name of the language. In most cases it is created by taking the two-letter language abbreviation from the ISO Standard 639 and adding a third letter, as appropriate, to indicate the sublanguage. </font></p></blockquote> <p>"What's with that 'in most cases' stuff?", they wonder aloud.</p> <p>Well, the following locales that are different then those rules as of Windows Server 2003's release:</p> <p><font face="Courier New" size="2"><strong><u>LCID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SABBREVLANGNAME&nbsp; SISO639LANGNAME&nbsp;&nbsp;&nbsp;SENGLANGUAGE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;SENGREGION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;</u></strong><u><br /></u>0x0404&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CHT&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; zh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Chinese&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Taiwan<br />0x0411&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JPN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ja&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Japanese&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Japan<br />0x0414&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NOR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; nb&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Norwegian (BokmÃ¥l)&nbsp;&nbsp;&nbsp; Norway<br />0x0421&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Indonesian&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Indonesia<br />0x044b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KAN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;kn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Kannada&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; India<br />0x044e&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MAR&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Marathi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; India<br />0x0450&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MON&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Mongolian&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Mongolia<br />0x0457&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KNK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kok&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Konkani&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; India<br />0x045a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SYR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;syr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Syriac&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Syria<br />0x0465&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DIV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; div&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Divehi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Maldives<br />0x0804&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CHS&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; zh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Chinese&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; People's Republic of China<br />0x0814&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NON&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Norwegian (Nynorsk)&nbsp;&nbsp;&nbsp;Norway</font></p> <p>Often this has to do with the Language Bar (the UI that shows the available selected keyboards). This thing takes the LOCALE_SABBREVLANGNAME and chops off that extra third letter and puts the first two letters in a nice blue square.</p> <p>Sometimes, if the remaining two letters always came from ISO 639 then there would be no way to tell apart Korean (ko) from Konkani (kok) once you chopped off that extra letter (Konkani has no two-letter ISO code).</p> <p>And sometimes there are no two-letter codes so we have to use the three letter codes. But they <strong>do</strong> mostly match, at least (so far!).... :-)</p> <p>Other times it may have seemed more important for Norwegian to have one consistent two-letter keyboard code, whether the user has selected BokmÃ¥l or Nyorsk -- without forcing people to take one or the other.</p> <p>And still other times it can just be the fact that when looking for the best three-letter abbreviation that is sometimes chopped into a two-letter abbreviation, the answer comes up a little different. Since it is already promising to not match ISO-639-1 100% of the time, why not be asthetically pleasing? :-)</p> <p>But the kicker is of course that the ISO name is still available. Whether you use the GetLocaleInfo and the LOCALE_SISO639LANGNAME or the .NET <a title="CultureInfo" href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationcultureinfoclasstopic.asp" target="_blank">CultureInfo</a> class's TwoLetterISOLanguageName or ThreeLetterISOLanguageName,&nbsp;you can get that ISO name if&nbsp;you need it. And you can also get that Windows name, too (if you wanted to get that keyboard code string, maybe!).</p> <p><em><font size="1"><br />1 -&nbsp;Being up to year fifteen of Law &amp; Order has really helped my Latin skills!<br /></font></em></p> <p><font color="#800080"><em>This post brought to you by</em> "Î£" <em>(<a href="http://www.fileformat.info/info/unicode/char/03a3/index.htm">U+03a3</a>, a.k.a. GREEK CAPITAL LETTER SIGMA)</em></font></p>
<hr/><p><a id="376858" href="#376858">#</a> <strong>Michael Kaplan</strong> on 19 Feb 2005 11:43 PM:</p><div style="margin-left: 1em">I talked to Cathy on Friday and she was surprised that no one had commented about the SABBREVLANGNAME thing, especially considering how often she gets questions about it. <br><br>I told her that those who might have responded were too embarrassed to admit that they were one of the people having trouble with the concept. <br><br>I actually think it was just a yawner of a topic -- important to post so we can all point to it the next time someone asks, but not the sort of thing that is useful otherwise. :-)</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2013/05/02 <a href="http://archives.miloush.net/michkap/archive/2013/05/02/10415649.html">Out of the ashes of the old...</a></p><p>2013/04/16 Because, unlike Andrew West, *I* have a sense of history... ðŸ˜„</p><p>2010/11/08 <a href="http://archives.miloush.net/michkap/archive/2010/11/08/10087179.html">Header files are the wrong place to be less than helpful</a></p><p>2010/04/26 <a href="http://archives.miloush.net/michkap/archive/2010/04/26/10001994.html">Look out Maharashtra, the Marathi LIP is now available!</a></p><p>2010/02/26 <a href="http://archives.miloush.net/michkap/archive/2010/02/26/9969550.html">There is no "I" in "Uyghur". Oh. Um. Well, except in the Windows Language Bar....</a></p><p>2008/01/28 <a href="http://archives.miloush.net/michkap/archive/2008/01/28/7287476.html">Behold the Table Driven Text Service, Part 5 (All about the language, baby!)</a></p><p>2006/11/02 <a href="http://archives.miloush.net/michkap/archive/2006/11/02/929063.html">MFC + Spanish version of Windows = Oops!</a></p><p>2006/09/27 <a href="http://archives.miloush.net/michkap/archive/2006/09/27/773341.html">LOCALE_SABBREVLANGNAME is more than just an ISO-639 code</a></p><p>2006/03/19 <a href="http://archives.miloush.net/michkap/archive/2006/03/19/554883.html">How many ways can you identify a language?</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/02/18/376009.html" title="GetHashCode vs. Compare vs. SortKey">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/02/16/374450.html" title="Language groups -- the vestigial tail of NLS">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-02">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-02-17">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/02/17/375235.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:42 GMT -->
</html>